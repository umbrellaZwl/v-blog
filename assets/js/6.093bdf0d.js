(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{349:function(t,e,s){t.exports=s.p+"assets/img/9DA92D22-7097-4973-8933-BB663E79821B.2a25b0d9.png"},359:function(t,e,s){"use strict";s.r(e);var r=s(42),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"script标签的async和deffer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#script标签的async和deffer"}},[t._v("#")]),t._v(" script标签的async和deffer")]),t._v(" "),r("p",[r("img",{attrs:{src:s(349),alt:""}})]),t._v(" "),r("h3",{attrs:{id:"不加async和deffer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#不加async和deffer"}},[t._v("#")]),t._v(" 不加async和deffer")]),t._v(" "),r("p",[t._v("由于渲染线程和js引擎线程是互斥的，所以当渲染线程解析到script标签时，则会交出控制权。开始下载资源，然后执行js。js执行完毕后控制权回到渲染线程，继续解析html。因此下载过程和执行过程都会阻塞渲染")]),t._v(" "),r("h3",{attrs:{id:"script-async"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#script-async"}},[t._v("#")]),t._v(" script async")]),t._v(" "),r("p",[t._v("渲染线程遇上script async标签时，会立即异步下载，下载完之后立即执行。无法保证脚本的执行顺序。用于无依赖的脚本，比如埋点。因此下载过程不会阻塞渲染，执行过程会阻塞渲染")]),t._v(" "),r("h3",{attrs:{id:"script-deffer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#script-deffer"}},[t._v("#")]),t._v(" script deffer")]),t._v(" "),r("p",[t._v("渲染线程遇上script deffer标签时，会立即异步下载，下载完成之后等待页面渲染完毕，在DOMContentLoaded事件之前执行，执行顺序则按照脚本的出现先后顺序。因此整体过程都没有阻塞渲染（执行是在渲染完成之后进行的）")]),t._v(" "),r("h3",{attrs:{id:"是否阻塞渲染"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#是否阻塞渲染"}},[t._v("#")]),t._v(" 是否阻塞渲染")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("----")]),t._v(" "),r("th",{staticStyle:{"text-align":"center"}},[t._v("script down")]),t._v(" "),r("th",{staticStyle:{"text-align":"right"}},[t._v("script execution")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("script")]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}},[t._v("渲染暂停")]),t._v(" "),r("td",{staticStyle:{"text-align":"right"}},[t._v("渲染暂停")])]),t._v(" "),r("tr",[r("td",[t._v("script async")]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}},[t._v("不阻塞渲染")]),t._v(" "),r("td",{staticStyle:{"text-align":"right"}},[t._v("立即执行，渲染暂停")])]),t._v(" "),r("tr",[r("td",[t._v("script deffer")]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}},[t._v("不阻塞渲染")]),t._v(" "),r("td",{staticStyle:{"text-align":"right"}},[t._v("渲染完毕后执行")])])])])])}),[],!1,null,null,null);e.default=a.exports}}]);